"use strict";!function(){let n,o,e,t,i={draw:0,win:0,lose:0};function r(){for(let n=0;n<o.length;n++)o[n].setAttribute("disabled","disabled")}function d(){for(let n=0;n<o.length;n++)o[n].removeAttribute("disabled")}function s(n){e.innerHTML=n}function a(n){t.innerHTML=["<h2>"+n+"</h2>","Won: "+i.win,"Lost: "+i.lose,"Draw: "+i.draw].join("<br>")}function c(){n.on("start",()=>{d(),s("Round "+(i.win+i.lose+i.draw+1))});n.on("turn",()=>{d()});n.on("wait",()=>{r()});n.on("win",()=>{i.win++,a("You win!")});n.on("lose",()=>{i.lose++,a("You lose!")});n.on("draw",()=>{i.draw++,a("Draw!")});n.on("end",()=>{r(),s("Waiting for opponent...")});n.on("connect",()=>{r(),s("Waiting for opponent...")});n.on("disconnect",()=>{r(),s("Connection lost!")});n.on("error",()=>{r(),s("Connection error!")});for(let e=0;e<o.length;e++)((o,e)=>{o.addEventListener("click",function(o){r();n.emit("move",e)},!1)})(o[e],e+1)}function l(){n=io({upgrade:!1,transports:["websocket"]});o=document.getElementsByTagName("button");e=document.getElementById("message");t=document.getElementById("score");r();c()}window.addEventListener("load",l,!1)}()