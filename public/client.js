"use strict";!function(){let n,o,t,e,i={draw:0,win:0,lose:0},r;function a(){for(let n=0;n<o.length;n++)o[n].setAttribute("disabled","disabled")}function s(){for(let n=0;n<o.length;n++)o[n].removeAttribute("disabled")}function l(n){t.innerHTML=n}function c(n){e.innerHTML=["<h2>"+n+"</h2>","Won: "+i.win,"Lost: "+i.lose,"Draw: "+i.draw].join("<br>")}function d(){n.on("start",n=>{r=n,console.log(r),s(),l("Game Start!")});n.on("turn",n=>{console.log("turn",n),s(),l("Your turn!")});n.on("wait",n=>{console.log("wait",n),a(),l("Opponents turn!")});n.on("win",()=>{i.win++,c("You win!")});n.on("lose",()=>{i.lose++,c("You lose!")});n.on("draw",()=>{i.draw++,c("Draw!")});n.on("end",()=>{a(),l("Waiting for opponent...")});n.on("connect",()=>{a(),l("Waiting for opponent...")});n.on("disconnect",()=>{a(),l("Connection lost!")});n.on("error",()=>{a(),l("Connection error!")});for(let t=0;t<o.length;t++)((o,t)=>{o.addEventListener("click",function(o){a();n.emit("move",t)},!1)})(o[t],t+1)}function u(){n=io({upgrade:!1,transports:["websocket"]});o=document.getElementsByTagName("button");t=document.getElementById("message");e=document.getElementById("score");r=void 0;a();d()}window.addEventListener("load",u,!1)}()